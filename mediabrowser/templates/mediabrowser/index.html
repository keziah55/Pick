
{% load static %}

<head>

<link rel="stylesheet" href="{% static 'mediabrowser/style.css' %}">

</head>

<body>

<form action="{% url 'pick:index' %}" method="get">
<div align="center">
    <input type="text" name="search" id="myInput" align="center" placeholder="{{ search_placeholder }}">
    <input type="submit" value="search">
</div>

<div class="slidercontainer">
  <input type="range" min="1900" max="2023" value="1900" class="slider" id="minYear">
  <span id="minYearLabel"></span>
</div>

<div class="slidercontainer">
  <input type="range" min="1900" max="2023" value="2023" class="slider" id="maxYear">
  <span id="maxYearLabel"></span>
</div>

<script>
var minSlider = document.getElementById("minYear");
var minOutput = document.getElementById("minYearLabel");
minOutput.innerHTML = minSlider.value; 
minSlider.oninput = function() {
  minOutput.innerHTML = this.value;
} 
var maxSlider = document.getElementById("maxYear");
var maxOutput = document.getElementById("maxYearLabel");
maxOutput.innerHTML = maxSlider.value; 
maxSlider.oninput = function() {
  maxOutput.innerHTML = this.value;
} 
</script>

</form>

{% if film_list %}
    <table id="resultsTable" align="center">
        {% for film in film_list %}
            <tr>
                <div class="row">
                    <div class="column-img">
                        <img src="{{ film.img }}" alt="{{ film.title }}"  width="200">
                    </div>  
                <div class="column-details">
                  <p>{{ film.title }} ({{ film.year }}) </p>
                  <p>
                  {% for person in film.director.all %}
                      <a href="{% url 'pick:search' person.name %}">{{ person.name }}</a>
                  {% endfor %}
                  </p>  
                  <p>
                  {% for person in film.stars.all|slice:":2" %}
                    <a href="{% url 'pick:search' person.name %}">{{ person.name }}</a>,
                  {% endfor %}
                  {% for person in film.stars.all|slice:"2:3" %}
                      <a href="{% url 'pick:search' person.name %}">{{ person.name }}</a>...
                  {% endfor %}
                  </p>  
                </div>  
            </div>  
        </tr>
    {% endfor %}
    </table>
{% else %}
    <p>No results are available.</p>
{% endif %}

</body>